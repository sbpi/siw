create table CO_AGENCIA
(
  SQ_AGENCIA NUMBER(18) not null,
  SQ_BANCO   NUMBER(18) not null,
  CODIGO     VARCHAR2(30) not null,
  ATIVO      VARCHAR2(1) default 'S' not null,
  PADRAO     VARCHAR2(1) default 'N' not null,
  NOME       VARCHAR2(40) not null
)
tablespace USERS
  pctfree 10
  initrans 1
  maxtrans 255
  storage
  (
    initial 768K
    minextents 1
    maxextents unlimited
  );
comment on table CO_AGENCIA
  is 'Armazena a tabela de agências';
comment on column CO_AGENCIA.SQ_AGENCIA
  is 'Sequence';
comment on column CO_AGENCIA.CODIGO
  is 'Código da agência bancária. Está com tamanho acima do normal para aceitar agências no exterior.';
comment on column CO_AGENCIA.ATIVO
  is 'Indica se o registro deve ou não ser exibido.';
comment on column CO_AGENCIA.PADRAO
  is 'Indica se este registro deve ser apresentado como padrão para o usuário.';
alter table CO_AGENCIA
  add constraint PK_CO_AGENCIA primary key (SQ_AGENCIA)
  using index 
  tablespace USERS
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 384K
    minextents 1
    maxextents unlimited
  );
alter table CO_AGENCIA
  add constraint FK_COBAN_COAGE foreign key (SQ_BANCO)
  references CO_BANCO (SQ_BANCO);
alter table CO_AGENCIA
  add constraint CKC_ATIVO_CO_AGENC
  check (ATIVO in ('S','N'));
alter table CO_AGENCIA
  add constraint CKC_PADRAO_COAGE
  check (PADRAO in ('S','N'));
create index IN_COAGE_ATIVO on CO_AGENCIA (SQ_BANCO,ATIVO)
  tablespace SYSTEM
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 66K
    minextents 1
    maxextents unlimited
  );
create index IN_COAGE_NOME on CO_AGENCIA (NOME,SQ_AGENCIA)
  tablespace SYSTEM
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 66K
    minextents 1
    maxextents unlimited
  );
create index IN_COAGE_PADRAO on CO_AGENCIA (SQ_BANCO,PADRAO)
  tablespace SYSTEM
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 66K
    minextents 1
    maxextents unlimited
  );
create unique index IN_COAGE_SQBANCO on CO_AGENCIA (SQ_BANCO,SQ_AGENCIA)
  tablespace SYSTEM
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 66K
    minextents 1
    maxextents unlimited
  );
create unique index IN_COAGE_UNICO on CO_AGENCIA (SQ_BANCO,CODIGO)
  tablespace SYSTEM
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 66K
    minextents 1
    maxextents unlimited
  );

